<div class="container mx-auto sm:max-w-full md:max-w-screen-lg mt-3">
  <div
    class="shadow-xl bg-[url('https://ddex.co.uk/wp-content/uploads/2018/10/Live-Music-Events-Stand-Design.jpg')] bg-center bg-cover md:h-30"
  >
    <div class="backdrop-blur-sm text-white">
      <div
        class="flex p-9 md:flex-row md:h-30 xs:flex-col justify-between w-full gap-7 items-center"
      >
        <div class="flex flex-col gap-1">
          <h1 class="font-headers text-5xl">
            {{
              isEditMode
                ? "Edit your event on Beatfinder"
                : "Add your event to Beatfinder"
            }}
            <div
              class="bg-gradient-to-r from-beatfinder-blue to-beatfinder-green h-2"
            ></div>
          </h1>
        </div>
      </div>
    </div>
  </div>
  <div class="flex md:flex-row xs:flex-col-reverse mt-3 gap-3">
    <div class="bg-base-100 shadow-md xs:w-full md:w-4/5">
      <form
        [formGroup]="eventForm"
        (ngSubmit)="onSubmit()"
        enctype="multipart/form-data"
        ngNativeValidate
      >
        <div class="p-5">
          <div class="flex flex-col gap-11">
            <label class="form-control w-full">
              <div class="label">
                <span class="label-text">Event Name</span>
              </div>
              <input
                type="text"
                placeholder="Type here"
                class="input input-bordered"
                formControlName="eventName"
                required
              />
            </label>
            <div class="form-control w-full">
              <label class="label">
                <span class="label-text">Event Cover Image</span>
              </label>
              <input
                type="file"
                class="file-input file-input-bordered w-full"
                (input)="selectImage($event)"
                required
              />
            </div>
            <div class="form-control w-full">
              <label class="label">
                <span class="label-text">Event Genres</span>
              </label>
              <ng-select
                [items]="popularGenres"
                bindLabel="name"
                bindValue="id"
                [multiple]="true"
                formControlName="genres"
                required
              >
              </ng-select>
            </div>
            <div class="form-control w-full">
              <label class="label">
                <span class="label-text">Event Time</span>
              </label>
              <input
                type="datetime-local"
                class="input input-bordered"
                formControlName="dateTime"
                required
              />
            </div>
            <label class="form-control w-full">
              <div class="label">
                <span class="label-text">Ticket Purchase URL</span>
              </div>
              <input
                type="text"
                placeholder="Enter URL"
                class="input input-bordered"
                formControlName="url"
                required
              />
            </label>
            <label class="form-control w-full">
              <div class="label">
                <span class="label-text">Event Description</span>
              </div>
              <textarea
                class="textarea textarea-bordered h-24"
                placeholder="Type here"
                formControlName="description"
                required
              >
              </textarea>
              <div class="label"></div>
            </label>
            <button class="btn btn-primary">
              {{ isEditMode ? "Update Event" : "Publish on Beatfinder" }}
            </button>
          </div>
        </div>
      </form>
    </div>
    <div class="flex flex-col gap-y-3 xs:w-full md:w-1/3">
      <div class="bg-base-100 shadow-md p-5">
        <h2 class="font-headers pb-3 text-2xl">About the venue</h2>
        <form [formGroup]="eventForm" class="flex flex-col gap-2">
          <label class="form-control w-full">
            <div class="label">
              <span class="label-text">Name</span>
            </div>
            <input
              type="text"
              placeholder="Type here"
              class="input input-bordered"
              formControlName="venue"
              required
            />
          </label>
          <label class="form-control w-full">
            <div class="label">
              <span class="label-text">Address</span>
            </div>
            <input
              type="text"
              placeholder="Type here"
              class="input input-bordered"
              formControlName="venueAddress"
              required
            />
          </label>

          <label class="form-control w-full">
            <div class="label">
              <span class="label-text">City and Country</span>
            </div>
            <app-location-chooser-mini
              [useSavedLocation]="false"
              formControlName="location"
            ></app-location-chooser-mini>
          </label>
        </form>
      </div>
      <div class="bg-base-100 shadow-md flex flex-row justify-between p-5">
        <h2 class="font-headers text-2xl content-center">Visibility</h2>
        <label class="swap swap-rotate">
          <!-- this hidden checkbox controls the state -->
          <input type="checkbox" formControlName="visibility" />
          <span class="icon-[mdi--eye] swap-on w-10 h-10"></span>
          <span class="icon-[mdi--eye-off] swap-off w-10 h-10"></span>
        </label>
      </div>
    </div>
  </div>
</div>
